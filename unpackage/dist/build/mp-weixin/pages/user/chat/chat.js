(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/chat/chat"],{"370d":function(e,t,n){"use strict";n.r(t);var i=n("9703"),a=n.n(i);for(var s in i)"default"!==s&&function(e){n.d(t,e,(function(){return i[e]}))}(s);t["default"]=a.a},5552:function(e,t,n){},"5f88":function(e,t,n){"use strict";var i;n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return i}));var a=function(){var e=this,t=e.$createElement,n=(e._self._c,e.__map(e.unshiftmsg,(function(t,n){var i=e.__get_orig(t),a=""!=t.createTime?e.changeTime(t.createTime):null;return{$orig:i,m0:a}})));e.$mp.data=Object.assign({},{$root:{l0:n}})},s=[]},"6f24":function(e,t,n){"use strict";(function(e){n("03fe");i(n("66fd"));var t=i(n("d8be"));function i(e){return e&&e.__esModule?e:{default:e}}wx.__webpack_require_UNI_MP_PLUGIN__=n,e(t.default)}).call(this,n("543d")["createPage"])},9703:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n("0d47"));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(){Promise.all([n.e("common/vendor"),n.e("pages/user/chat/submit")]).then(function(){return resolve(n("25c3"))}.bind(null,n)).catch(n.oe)},c=e.createInnerAudioContext(),m={data:function(){return{friendName:"xpq",msg:[{sendName:"゛时光い",receviceName:"xpq",sendText:{voice:"时光匆匆流过",time:2},createTime:"2022-01-06 12:22:12",updateTime:null,chatmState:1,TextType:2},{sendName:"xpq",receviceName:"゛时光い",sendText:{voice:"谢谢你",time:60},createTime:"2022-01-06 12:00:12",updateTime:null,chatmState:1,TextType:2},{sendName:"゛时光い",receviceName:"xpq",sendText:"这是第九条未读消息",createTime:"2022-01-03 12:22:12",updateTime:null,chatmState:1,TextType:0},{sendName:"゛时光い",receviceName:"xpq",sendText:"这是第八条未读消息",createTime:"2022-01-02 12:22:07",updateTime:null,chatmState:1,TextType:0},{sendName:"xpq",receviceName:"xpq",sendText:"这是第七条未读消息",createTime:"2021-12-19 12:22:03",updateTime:null,chatmState:1,TextType:0},{sendName:"゛时光い",receviceName:"xpq",sendText:"这是第六条未读消息",createTime:"2021-12-19 12:21:58",updateTime:null,chatmState:1,TextType:0},{sendName:"゛时光い",receviceName:"xpq",sendText:"http://demo.rageframe.com/attachment/images/2021/11/18/image_1637224530_diIlZlmm.jpeg",createTime:"2021-12-19 12:21:54",updateTime:null,chatmState:1,TextType:1},{sendName:"xpq",receviceName:"゛时光い",sendText:"http://demo2.rageframe.com/attachment/images/2021/09/01/image_1630483477_N03W37zs.jpg",createTime:"2021-12-19 12:21:48",updateTime:null,chatmState:1,TextType:1},{sendName:"゛时光い",receviceName:"xpq",sendText:"这是第三条未读消息",createTime:"2021-12-19 12:21:42",updateTime:null,chatmState:1,TextType:0},{sendName:"゛时光い",receviceName:"xpq",sendText:"这是第二条未读消息",createTime:"2021-12-19 12:21:33",updateTime:null,chatmState:1,TextType:0},{sendName:"゛时光い",receviceName:"xpq",sendText:"http://demo2.rageframe.com/attachment/images/2021/09/01/image_1630483477_N03W37zs.jpg",createTime:"2021-12-19 11:02:18",updateTime:null,chatmState:1,TextType:1},{sendName:"゛时光い",receviceName:"xpq",sendText:"爱你啊",createTime:"2021-12-18 20:37:03",updateTime:null,chatmState:0,TextType:0}],unshiftmsg:[],imgMsg:[],scrollToView:"",oldTime:new Date,inputh:"60"}},onShow:function(){for(var e=0;e<this.msg.length;e++){if(e<this.msg.length-1){var t=i.default.spaceTime(this.oldTime,this.msg[e].createTime);t&&(this.oldTime=t),this.msg[e].createTime=t}1==this.msg[e].TextType&&this.imgMsg.unshift(this.msg[e].sendText),this.unshiftmsg.unshift(this.msg[e])}this.$nextTick((function(){this.scrollToView="msg"+(this.unshiftmsg.length-1)}))},components:{submit:s},methods:{changeTime:function(e){return i.default.dateTime1(e)},previewImg:function(t){for(var n=0,i=0;i<this.imgMsg.length;i++)this.imgMsg[i]==t&&(n=i);console.log("index",n),e.previewImage({current:n,urls:this.imgMsg,longPressActions:{itemList:["发送给朋友","保存图片","收藏"],success:function(e){console.log("选中了第"+(e.tapIndex+1)+"个按钮,第"+(e.index+1)+"张图片")},fail:function(e){console.log(e.errMsg)}}})},playVoice:function(e){c.src=e,c.onPlay((function(){console.log("开始播放")}))},inputs:function(e){var t={sendName:"゛时光い",receviceName:"xpq",sendText:e.message,createTime:new Date,updateTime:new Date,chatmState:1,TextType:e.type};this.unshiftmsg.push(t),this.$nextTick((function(){this.scrollToView="msg"+(this.unshiftmsg.length-1)})),1==e.type&&this.imgMsg.push(e.message),console.log(e)},heights:function(e){console.log("高度:",e),this.inputh=e,this.goBottom()},goBottom:function(){this.scrollToView="",this.$nextTick((function(){this.scrollToView="msg"+(this.unshiftmsg.length-1)}))}}};t.default=m}).call(this,n("543d")["default"])},d48b:function(e,t,n){"use strict";var i=n("5552"),a=n.n(i);a.a},d8be:function(e,t,n){"use strict";n.r(t);var i=n("5f88"),a=n("370d");for(var s in a)"default"!==s&&function(e){n.d(t,e,(function(){return a[e]}))}(s);n("d48b");var c,m=n("f0c5"),u=Object(m["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],c);t["default"]=u.exports}},[["6f24","common/runtime","common/vendor"]]]);